# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# Perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

actor: AcceptanceTester
modules:
    enabled:
      - \Helper\Acceptance
      - StanfordCaravan\Codeception\Drupal\DrupalBootstrap:
          root: '${repo.root}/docroot'
          server:
            HTTP_HOST: '${project.local.hostname}'
      - StanfordCaravan\Codeception\Drupal\DrupalDrush:
          options:
            uri: '${project.local.hostname}'
      - PhpBrowser:
          url: '${project.local.protocol}://${project.local.hostname}/'
      - StanfordCaravan\Codeception\Drupal\DrupalEntity:
          cleanup_test: true
          cleanup_failed: false
          cleanup_suite: true
          route_entities:
              - node
              - taxonomy_term
              - media
      - StanfordCaravan\Codeception\Drupal\DrupalUser:
          drush: '${repo.root}/vendor/bin/drush'
          default_role: 'authenticated'
          driver: 'PhpBrowser'
          cleanup_entities:
            - node
            - media
            - file
          cleanup_test: true
          cleanup_failed: false
          cleanup_suite: true
    step_decorators: ~
